"use strict";(self.webpackChunkedumim=self.webpackChunkedumim||[]).push([[856],{82856:function(e,n,t){t.r(n),t.d(n,{default:function(){return g}});var r=t(74165),a=t(15861),s=t(29439),i=t(72791),l=t(35361),o=t(91828),c=t(73763),d=t(97127),u=t(19090),h=t(90578),m=t(62394),p=t(81159),x=t(76321),f=t(11087),j=t(80184);function g(){var e=(0,i.useState)(""),n=(0,s.Z)(e,2),t=n[0],g=n[1],v=(0,i.useState)(""),Z=(0,s.Z)(v,2),y=Z[0],b=Z[1],w=(0,i.useState)(""),I=(0,s.Z)(w,2),k=I[0],P=I[1],S=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var a,s,i,l,o,c,d;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,a=(0,x.hJ)(p.db,"User"),s=(0,x.IO)(a,(0,x.ar)("Email","==",t)),e.next=6,(0,x.PL)(s);case 6:if(!(i=e.sent).empty){e.next=10;break}return P("User not found"),e.abrupt("return");case 10:l=i.docs[0],(o=l.data()).Password===y?(P(""),c={Role:o.Role,Login:!0,Email:o.Email},d=JSON.stringify(c),localStorage.setItem("token",d),window.location.reload()):P("Invalid password"),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(1),P("Error during authentication"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(n){return e.apply(this,arguments)}}();return(0,j.jsx)(l.lL,{children:(0,j.jsx)("main",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"},children:(0,j.jsxs)(o.Z,{sx:{width:400,mx:"auto",my:4,py:3,px:2,display:"flex",flexDirection:"column",gap:2,borderRadius:"sm",boxShadow:"md"},variant:"outlined",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(c.ZP,{style:{textAlign:"center"},level:"h2",component:"h1",children:(0,j.jsxs)(f.rU,{to:"/",children:["  ",(0,j.jsx)("b",{children:"Reflect"})," "]})}),(0,j.jsx)(c.ZP,{style:{textAlign:"center"},level:"h4",component:"h1",children:(0,j.jsx)("b",{children:"Welcome!"})}),(0,j.jsx)(c.ZP,{level:"body-sm",children:"Sign in to continue."}),(0,j.jsx)(c.ZP,{level:"body-sm",style:{color:"red"},children:k||null})]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(u.Z,{children:"Email"}),(0,j.jsx)(h.ZP,{name:"email",type:"email",placeholder:"johndoe@email.com",onChange:function(e){g(e.target.value)}})]}),(0,j.jsxs)(d.Z,{children:[(0,j.jsx)(u.Z,{children:"Password"}),(0,j.jsx)(h.ZP,{name:"password",type:"password",placeholder:"password",onChange:function(e){b(e.target.value)}})]}),(0,j.jsx)(m.Z,{onClick:S,sx:{mt:1},children:"Log in"})]})})})}},81159:function(e,n,t){t.d(n,{db:function(){return l},tO:function(){return o}});var r=t(44702),a=t(76321),s=t(30276),i=(0,r.ZF)({apiKey:"AIzaSyDrNDJBgI6BTQlnt9xxZzIWXLvIOXeDBnc",authDomain:"reflect-6315a.firebaseapp.com",projectId:"reflect-6315a",storageBucket:"reflect-6315a.appspot.com",messagingSenderId:"170172540537",appId:"1:170172540537:web:686cacb1746b42607696a8",measurementId:"G-3LQQN81LJN"}),l=(0,a.ad)(i),o=(0,s.cF)(i);(0,s.iH)(o,"images")}}]);
//# sourceMappingURL=856.245e4be1.chunk.js.map